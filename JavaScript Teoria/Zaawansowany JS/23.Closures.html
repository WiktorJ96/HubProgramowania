<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
    <script>
let d = 99;
// Zmienna globalna "d" o wartości 99. Jest dostępna wszędzie w kodzie.

function bar(){
    let e = 12;
    // Zmienna lokalna "e" wewnątrz funkcji "bar" o wartości 12. Jest dostępna tylko w funkcji "bar" i jej wewnętrznych funkcjach.

    function test(){
        let num = 45;
        // Zmienna lokalna "num" wewnątrz funkcji "test" o wartości 45. Jest dostępna tylko w tej funkcji.
        
        console.log(`d:${d} e:${e} num:${num}`);
        // Wypisuje wartości zmiennych "d", "e" i "num".
        // "d" to zmienna globalna, "e" to zmienna lokalna funkcji "bar", a "num" to zmienna lokalna funkcji "test".
        // Wynik to: d:99 e:12 num:45
    }
    
    return test;
    // Funkcja "bar" zwraca funkcję "test". 
}

let show = bar();
// Przypisanie zmiennej "show" wartości zwróconej przez funkcję "bar". 
// Wartością jest funkcja "test", ponieważ funkcja "bar" zwraca "test".

console.log(show);
// Wyświetla definicję funkcji "test", ponieważ "show" jest referencją do tej funkcji.

show();
// Wywołuje funkcję "show", która jest w rzeczywistości funkcją "test".
// Funkcja "test" ma dostęp do zmiennych "d", "e" oraz "num", ponieważ działa w tzw. closure (domknięciu). 
// Wypisuje "d:99 e:12 num:45".

    </script>
</body>
</html>